#lang sicp
(define (cube x) (* x x x))

(define (p x) (- (* 3 x) (* 4 (cube x))))

(define (sine angle)
    (if (not (> (abs angle) 0.1))
        angle
        (p (sine (/ angle 3.0)))
    )
)

#|
C:\D\sicp-scheme>scheme
Chez Scheme Version 9.5
Copyright 1984-2017 Cisco Systems, Inc.

> (load "1.15.ss")
> (trace p)
(p)
> (sine 12.15)
|(p 0.049999999999999996)
|0.1495
|(p 0.1495)
|0.4351345505
|(p 0.4351345505)
|0.9758465331678772
|(p 0.9758465331678772)
|-0.7895631144708228
|(p -0.7895631144708228)
|-0.39980345741334
-0.39980345741334

p被执行了5次

----------------

在求值 (sine a) 的时候， a 每次都被除以 3.0 ，而 sine 是一个递归程序，因此它的时间和空间复杂度都是 O(log a) 
当 a 增大一倍(准确地说，是乘以因子 3)， p 的运行次数就会增加一次

> (sine 36)
|(p 0.04938271604938271)
|0.14766643898381945
|(p 0.14766643898381945)
|0.4301196273428894
|(p 0.4301196273428894)
|0.9720653790301994
|(p 0.9720653790301994)
|-0.7578653335073415
|(p -0.7578653335073415)
|-0.5324462817995026
|(p -0.5324462817995026)
|-0.9935468000377334
-0.9935468000377334

> (sine 108)
|(p 0.04938271604938271)
|0.14766643898381945
|(p 0.14766643898381945)
|0.4301196273428894
|(p 0.4301196273428894)
|0.9720653790301994
|(p 0.9720653790301994)
|-0.7578653335073415
|(p -0.7578653335073415)
|-0.5324462817995026
|(p -0.5324462817995026)
|-0.9935468000377334
|(p -0.9935468000377334)
|0.9424198508738271
0.9424198508738271

|#